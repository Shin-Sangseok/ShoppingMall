<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="review">

	<!-- 작성 시간 순으로 목록 보기 -->
	<select id="date_list" resultType="reviewVO">
		select * from review order by review_rgstdate desc
	</select>
	
	<!-- 별점 순으로 목록 보기 -->
	<select id="score_list" resultType="reviewVO">
		select * from review order by review_score desc
	</select>
	
	<!-- 상품 구매 후기 작성 -->
	<insert id="create" parameterType="reviewVO">
		insert into review values (null, null, null, #{review_context}, 
		#{review_img}, #{review_score}, now())
	</insert>
	
	<!-- 상품 구매 후기 수정 -->
	<update id="update" parameterType="reviewVO">
		update review set review_context = #{review_context}, review_img = #{review_img}, 
		review_score = #{review_score} where review_idx = #{review_idx}
	</update>
	
	<!-- 상품 구매 후기 삭제 -->
	<delete id="delete" parameterType="reviewVO">
		delete from review where review_idx = #{review_idx}
	</delete>
	
</mapper>